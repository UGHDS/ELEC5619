<!doctype html>
<html>

<head>
    <link href="../css/styles.css" rel="stylesheet" />
    <head th:include="fragments/headerLogged :: head"></head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Market Admin</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios@0.21.4/dist/axios.min.js"></script>

</head>

<body>
<nav th:replace="fragments/headerLogged :: navbar"></nav>

<div id="app">
    <span class="userHomeTitle">Market list</span>

    <div class="frameContainerR">
        <div class="marketItem">
            <div class="orderNum">Account#CV0325</div>
            <div class="marketStall">Surry Hills Market, Stall #62</div>
            <div class="dateAddress">Crown St, Surry Hills NSW 2010 </div>
            <button type="button" class="marketReview" @click="openREForm">View or Edit Market Detail</button>
            <br>
            <div class="userline"></div>
        </div>
    </div>

    <div class="blackLayer" v-show="showFormLayer"></div>

    <div class="review-popup" v-show="showReviewForm">
        <button type="button" class="btn cancel" @click="closeREForm">x</button>
        <form action="#" class="form-container">
            <h2 style="text-align: center">Registration Review</h2>
            <!-- Add v-model to each input to bind the values to Vue data properties if needed -->
            <label><b>First Name</b></label>
            <input type="text" placeholder="Enter your first name" name="firstName" required>

            <label style="margin-left: 25px"><b>Last Name</b></label>
            <input type="text" placeholder="Enter your last name" name="lastName" required>

            <label><b>Business Name</b></label>
            <input type="text" placeholder="Enter your business name, optional" name="businessName">

            <label><b>ABN Number</b></label>
            <input type="text" placeholder="Enter your ABN number, optional" name="abn">

            <label><b>Phone number</b></label>
            <input type="text" placeholder="Enter your phone number" name="phoneNum" required>

            <label><b>Email</b></label>
            <input type="text" placeholder="Enter your email address" name="email" required>

            <button type="button" class="approveFormBtn" @click="approveFormClick">Approve</button>
            <button type="button" class="denyFormBtn" @click="denyFormClick">Deny</button>
        </form>
    </div>
</div>

<div th:replace="fragments/footer :: footer"></div>

<script>
    new Vue({
        el: '#app',
        data: {
            showReviewForm: false,
            showFormLayer: false,
        },
        methods: {
            openREForm() {
                this.showReviewForm = true;
                this.showFormLayer = true;
            },
            closeREForm() {
                this.showReviewForm = false;
                this.showFormLayer = false;
            },
            approveFormClick() {
                this.showReviewForm = false;
                this.showFormLayer = false;
                // Add any other logic needed on approval
            },
            denyFormClick() {
                this.showReviewForm = false;
                this.showFormLayer = false;
                // Add any other logic needed on denial
            },
        }
    });
</script>

</body>

</html>